(this["webpackJsonpmern-user-registration"]=this["webpackJsonpmern-user-registration"]||[]).push([[0],{11:function(e,a,r){e.exports=r(23)},16:function(e,a,r){},22:function(e,a,r){},23:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),s=r(8),o=r.n(s),c=(r(16),r(3)),l=r.n(c),i=r(4),m=r(5),u=r(1),p=r(6),d=r(10);r(22);function E(e){return function(e,a){return w.apply(this,arguments)}("signup",Object(u.a)({},e))}function w(){return(w=Object(i.a)(l.a.mark((function e(a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("http://localhost:8080/api/users/").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json().then((function(a){return{status:e.status,data:a}}))})).catch((function(e){return{success:!1,message:e.message}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){var e={name:"",email:"",password:"",passwordrepeat:""},a={isLoading:!1,message:"",isError:!1,nameError:"",emailError:"",passwordError:"",passwordrepeatError:""},r=Object(t.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],w=Object(t.useState)(Object(u.a)({},a)),b=Object(p.a)(w,2),h=b[0],f=b[1],g=Object(t.useState)(Object(u.a)({},e)),j=Object(p.a)(g,2),O=j[0],v=j[1],y=function(e){var a=e.target,r=a.name,t=a.value;v(Object(u.a)({},O,Object(m.a)({},r,t)))},N=function(){if(/^(\w+\s?)*\s*.{3,}/.test(O.name))return f(Object(u.a)({},h,{nameError:""})),!0;f(Object(u.a)({},h,{nameError:"Please enter a valid name"}))},P=function(){if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(O.email))return f(Object(u.a)({},h,{emailError:""})),!0;f(Object(u.a)({},h,{emailError:"Please enter a valid email"}))},x=function(){if(/(?=.{8,})/.test(O.password))return f(Object(u.a)({},h,{passwordError:""})),O.passwordrepeat&&C(),!0;f(Object(u.a)({},h,{passwordError:"Password should be atleast 8 characters long"}))},C=function(){return!O.password||h.passwordError?x():O.password===O.passwordrepeat?(f(Object(u.a)({},h,{passwordrepeatError:""})),!0):void f(Object(u.a)({},h,{passwordrepeatError:"Password does not match"}))},k=function(){var r=Object(i.a)(l.a.mark((function r(t){var n,s,i,m,p;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(N()&&P()&&x()&&C()){r.next=3;break}return o&&o(!1),r.abrupt("return");case 3:return f(Object(u.a)({},a,{isLoading:!0})),o&&c(!1),n=O.name,s=O.email,i=O.password,m={name:n,email:s,password:i,captchaValue:t},r.next=9,E(m);case 9:p=r.sent,[401,429].includes(p.status)?c(!0):p.data.success?(v(Object(u.a)({},e)),f(Object(u.a)({},a,{message:p.data.message}))):f({isLoading:!1,isError:!0,message:p.data.message});case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return n.a.createElement("form",{className:"registration-form"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"Register"),n.a.createElement("p",null,"Please fill in this form to create an account."),n.a.createElement("hr",null),n.a.createElement("label",{htmlFor:"name"},n.a.createElement("b",null,"Name")),n.a.createElement("input",{type:"text",placeholder:"Enter Name",name:"name",onChange:y,onBlur:N,value:O.name}),n.a.createElement("p",{className:"error"},h.nameError),n.a.createElement("label",{htmlFor:"email"},n.a.createElement("b",null,"Email")),n.a.createElement("input",{type:"text",placeholder:"Enter Email",name:"email",onChange:y,onBlur:P,value:O.email}),n.a.createElement("p",{className:"error"},h.emailError),n.a.createElement("label",{htmlFor:"password"},n.a.createElement("b",null,"Password")),n.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",onChange:y,onBlur:x,value:O.password}),n.a.createElement("p",{className:"error"},h.passwordError),n.a.createElement("label",{htmlFor:"passwordrepeat"},n.a.createElement("b",null,"Repeat Password")),n.a.createElement("input",{type:"password",placeholder:"Repeat Password",name:"passwordrepeat",onChange:y,onBlur:C,value:O.passwordrepeat}),n.a.createElement("p",{className:"error"},h.passwordrepeatError),n.a.createElement("div",{className:"clearfix"},n.a.createElement("button",{type:"submit",className:"signupbtn",onClick:function(e){e.preventDefault(),h.isLoading||k()}},h.isLoading?"Loading...":"Submit")),n.a.createElement("p",{className:h.isError?"error":"success-msg"},h.message),o&&n.a.createElement("div",{className:"captcha-container"},n.a.createElement(d.a,{sitekey:"6LeVXdsUAAAAAA0QR6J11z4T0wSq5J4hrTC-n8TT",onChange:k}))))};o.a.render(n.a.createElement(b,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.dfa33b4c.chunk.js.map